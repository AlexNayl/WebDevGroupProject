"use strict";(self["webpackChunkwebdevgroupproject"]=self["webpackChunkwebdevgroupproject"]||[]).push([[543],{7543:function(t,s,e){e.r(s),e.d(s,{default:function(){return B}});var i=e(3396);const h={class:"StackerView"},n=(0,i._)("h1",null,"Stacker",-1);function r(t,s,e,r,o,l){const c=(0,i.up)("StackerGame");return(0,i.wg)(),(0,i.iD)("div",h,[n,(0,i.Wm)(c)])}var o=e(7139);const l={key:0},c={key:1},p=(0,i._)("div",{id:"stacker-div"},null,-1);function a(t,s,e,h,n,r){return(0,i.wg)(),(0,i.iD)(i.HY,null,[n.running?((0,i.wg)(),(0,i.iD)("p",l,"Score "+(0,o.zw)(n.score),1)):(0,i.kq)("",!0),n.running?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("p",c,"Press Space to begin")),p],64)}var g=e(8851),u=e.n(g),k=e(4101);class d{constructor(t){this.vuePage=t,this.setup(10,13,40)}reset(){this.placedBlocks=[],this.posx=0,this.posy=this.height-1,this.dir=1,this.length=4}placeBlock(){let t=this.getLastBlock();if(this.placedBlocks.length>0&&(this.posx>=t.posx+t.length||this.posx+this.length-1<t.posx))return this.running=!1,this.vuePage.running=!1,this.reset(),void(this.vuePage.score=0);let s={posx:this.posx,posy:this.posy,length:this.length};if(this.placedBlocks.length>0)if(this.posx==t.posx)this.length=Math.min(this.length,t.length),s.length=this.length;else if(this.posx<t.posx){let e=t.posx-this.posx;this.length-=e,s.posx=this.posx+e,s.length=this.length}else{let e=this.posx-t.posx;this.length-=e,s.posx=this.posx,s.length=this.length}this.placedBlocks.push(s),this.posy--,this.vuePage.score+=this.length,this.posy<0&&(this.running=!1,this.vuePage.running=!1,k.Z.updateHighscores(this.vuePage.score,prompt("Enter a name:","stacker")),this.reset())}getLastBlock(){return this.placedBlocks[this.placedBlocks.length-1]}setup(t,s,e){this.width=t,this.height=s,this.cellSize=e,this.posy=s-1,this.posx=0,this.length=4,this.dir=1,this.placedBlocks=[];const i=i=>{i.setup=()=>{let h=i.createCanvas(t*e,s*e);h.parent("stacker-div"),i.frameRate(10)},i.draw=()=>{this.running&&(this.posx+this.length==t?this.dir=-1:0==this.posx&&(this.dir=1),this.posx+=this.dir),i.clear(),i.fill(255,255,255),i.stroke(0,0,0),i.rect(0,0,t*e,s*e),i.stroke(255,0,0),i.fill(255,0,0),i.rect(this.posx*e,this.posy*e,e*this.length,e);for(let t of this.placedBlocks)i.rect(t.posx*e,t.posy*e,e*t.length,e)},i.keyPressed=t=>{" "==t.key&&(this.running?this.placeBlock():(this.running=!0,this.vuePage.running=!0))}};this.sketch=new(u())(i)}}var x={name:"StackerGame",data(){return{game:null,p5Context:null,score:0,running:!1}},methods:{startup(){this.game=new d(this)}},mounted(){this.$nextTick((()=>{this.startup()}))}},v=e(89);const f=(0,v.Z)(x,[["render",a]]);var m=f,w={name:"StackerView",title:"Stacker",components:{StackerGame:m}};const y=(0,v.Z)(w,[["render",r]]);var B=y}}]);
//# sourceMappingURL=543.b0a589bd.js.map