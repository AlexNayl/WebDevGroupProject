"use strict";(self["webpackChunkwebdevgroupproject"]=self["webpackChunkwebdevgroupproject"]||[]).push([[443],{8964:function(e,t,s){s.r(t),s.d(t,{default:function(){return L}});var i=s(3396);const a={class:"MineSweeper"},r=(0,i._)("h1",null,"MineSweeper",-1);function o(e,t,s,o,n,l){const d=(0,i.up)("MineSweeperGame");return(0,i.wg)(),(0,i.iD)("div",a,[r,(0,i.Wm)(d)])}var n=s(7139);const l={id:"board-size"},d=(0,i._)("div",null,[(0,i._)("input",{type:"range",min:"6",max:"12",value:"9",class:"slider",id:"board-size-slider"})],-1),h={id:"bombs"},u=(0,i._)("div",null,[(0,i._)("input",{type:"range",min:"5",max:"50",value:"10",class:"slider",id:"bombs-slider"})],-1),m=(0,i._)("div",{id:"gameDiv"},null,-1);function c(e,t,s,a,r,o){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("p",null,"Flags Placed: "+(0,n.zw)(r.flagsPlaced),1),(0,i._)("p",null,"Time: "+(0,n.zw)(r.time),1),(0,i._)("p",l,"Board Size: "+(0,n.zw)(r.boardSize),1),d,(0,i._)("p",h,"Bombs: "+(0,n.zw)(r.bombs),1),u,(0,i._)("button",{onClick:t[0]||(t[0]=(...e)=>o.reset&&o.reset(...e)),id:"resetButton"},"New Game"),m],64)}function b(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var g=s(7387),f=s.n(g),S=s(4101);function p(e,t,s){const i=1e3,a=1e3;return Math.ceil(s/t*Math.max(1,(i-e)*a))}function v(e,t){for(let s=0;s<e.length;s++)if(t==e[s])return!0;return!1}class w{constructor(e,t,s){this.boardSize=e,this.numBombs=t,this.vuePage=s,this.setup()}setup(){this.bombLocations=[],this.started=!1,this.startedTime=0,this.gameOver=!1,this.flagsPlaced=0,this.vuePage.flagsPlaced=this.flagsPlaced,setInterval((()=>{this.started&&!this.gameOver&&(this.vuePage.time=Math.round((new Date).getTime()/1e3)-this.startedTime)}),1e3);let e=document.getElementById("gameBoard");e&&e.remove(),this.makeBoard(),f()(".gamesquare").contextmenu((function(){return!1}));let t=this;f()(".gamesquare").mousedown((function(e){1==e.which?t.clickSquare(this):3==e.which&&t.rightClickSquare(this)})),this.addBombs()}makeBoard(){let e=document.getElementById("gameDiv"),t=document.getElementById("resetButton");if(!e||!t)return;let s=document.createElement("table");s.setAttribute("id","gameBoard"),e.appendChild(s);for(let i=0;i<this.boardSize;i++){let e=document.createElement("tr");s.appendChild(e);for(let t=0;t<this.boardSize;t++){let s=document.createElement("td");e.appendChild(s),s.setAttribute("id",i.toString()+","+t.toString()),s.setAttribute("class","gamesquare unknownsquare")}}}reset(e,t){this.numBombs=e,this.boardSize=t,this.setup()}clickSquare(e){if(this.started||(this.startedTime=Math.round((new Date).getTime()/1e3),this.started=!0),!e.classList.contains("unknownsquare")&&(!this.gameOver||!e.classList.contains("flagsquare")))return;if(e.classList.remove("unknownsquare"),v(this.bombLocations,e.id))return this.gameOver&&e.classList.remove("flagsquare"),e.classList.add("bombsquare"),void(this.gameOver||this.endGame());let t=this.getRow(e.id),s=this.getCol(e.id),i=this.countBombsNear(t,s);0==i&&this.clearNearBy(t,s),e.classList.add("bombsnear"+i.toString()),this.gameOver||this.checkGameOver()}clearNearBy(e,t){for(let s=Math.max(e-1,0);s<Math.min(e+2,this.boardSize);s++)for(let e=Math.max(t-1,0);e<Math.min(t+2,this.boardSize);e++)this.clickSquare(document.getElementById(s.toString()+","+e.toString()))}countBombsNear(e,t){let s=0;for(let i=Math.max(e-1,0);i<Math.min(e+2,this.boardSize);i++)for(let a=Math.max(t-1,0);a<Math.min(t+2,this.boardSize);a++)i==e&&a==t||v(this.bombLocations,i.toString()+","+a.toString())&&(s+=1);return s}rightClickSquare(e){this.gameOver||(v(e.classList,"unknownsquare")?(e.classList.add("flagsquare"),e.classList.remove("unknownsquare"),this.flagsPlaced++,this.vuePage.flagsPlaced=this.flagsPlaced):v(e.classList,"flagsquare")&&(e.classList.remove("flagsquare"),e.classList.add("unknownsquare"),this.flagsPlaced--,this.vuePage.flagsPlaced=this.flagsPlaced))}endGame(e=!1){this.gameOver=!0;for(let t=0;t<this.boardSize;t++)for(let e=0;e<this.boardSize;e++)this.clickSquare(document.getElementById(t.toString()+","+e.toString()));if(clearTimeout(),e){let e=Math.round((new Date).getTime()/1e3)-this.startedTime;this.vuePage.time=e,S.Z.updateHighscores(p(e,this.boardSize,this.numBombs),prompt("Enter a name:"),"minesweeper")}else alert("You lose! Press Reset to reset!")}addBombs(){let e=[];for(let s=0;s<this.boardSize;s++)for(let t=0;t<this.boardSize;t++)e.push(s.toString()+","+t.toString());let t=this.numBombs;while(t>0&&e.length>0){let s=Math.floor(Math.random()*e.length),i=e[s];e[s]=e[0],e.shift(),this.acceptableBombLoc(i)&&(this.bombLocations.push(i),t--)}this.vuePage.bombs-=t}acceptableBombLoc(e){let t=this.getRow(e),s=this.getCol(e);for(let i=Math.max(t-1,0);i<Math.min(t+2,this.boardSize);i++)for(let e=Math.max(s-1,0);e<Math.min(s+2,this.boardSize);e++){let t=this.countBombsNear(i,e);if(t>=w.MAX_BOMBS_3X3)return!1}return!0}checkGameOver(){let e=0;for(let t=0;t<this.boardSize;t++)for(let s=0;s<this.boardSize;s++){let i=document.getElementById(t.toString()+","+s.toString());(i.classList.contains("unknownsquare")||i.classList.contains("flagsquare"))&&e++}e==this.numBombs&&this.endGame(!0)}getRow(e){return parseInt(e.split(",")[0])}getCol(e){return parseInt(e.split(",")[1])}}b(w,"MAX_BOMBS_3X3",6);var z={name:"MineSweeperGame",data(){return{game:null,flagsPlaced:0,boardSize:0,bombs:0,time:0}},methods:{startup:function(){this.boardSize=f()("#board-size-slider").val(),this.bombs=f()("#bombs-slider").val(),this.game=new w(this.boardSize,this.bombs,this),f()("#board-size-slider").change((()=>{this.updateBoardSize()})),f()("#bombs-slider").change((()=>{this.updateBombs()}))},updateBoardSize(){let e=document.querySelector("#board-size-slider").value;this.boardSize=e,this.updateBombs()},updateBombs(){let e=document.querySelector("#bombs-slider").value;e=Math.floor(Math.min(e,this.boardSize*this.boardSize/3)),this.bombs=e},reset:function(){this.game.reset(this.bombs,this.boardSize)}},mounted(){this.$nextTick((()=>{this.startup()}))}},B=s(89);const M=(0,B.Z)(z,[["render",c]]);var q=M,k={name:"MineSweeper",title:"Minesweeper",components:{MineSweeperGame:q}};const P=(0,B.Z)(k,[["render",o]]);var L=P}}]);
//# sourceMappingURL=about.74ea47e4.js.map