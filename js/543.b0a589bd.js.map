{"version":3,"file":"js/543.b0a589bd.js","mappings":"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","sources":["webpack://webdevgroupproject/./src/views/StackerView.vue","webpack://webdevgroupproject/./src/components/StackerGame.vue","webpack://webdevgroupproject/./public/scripts/stacker.js","webpack://webdevgroupproject/./src/components/StackerGame.vue?08d2","webpack://webdevgroupproject/./src/views/StackerView.vue?d0be"],"sourcesContent":["<template>\n    <div class=\"StackerView\">\n        <h1>Stacker</h1>\n        <StackerGame />\n    </div>\n</template>\n\n<script>\n    import StackerGame from '@/components/StackerGame.vue'\n    export default {\n        name: \"StackerView\",\n        title: \"Stacker\",\n        components: {\n            StackerGame,\n        },\n    }\n</script>","<template>\n    <p v-if=\"running\">Score {{ score }}</p>\n\t<p v-if=\"!running\">Press Space to begin</p>\n    <div id=\"stacker-div\"></div>\n</template>\n\n<script>\n\timport Stacker from \"@/../public/scripts/stacker.js\";\n\n    export default {\n        name: \"StackerGame\",\n        data() {\n            return {\n                game: null,\n                p5Context: null,\n\t\t\t\tscore: 0,\n\t\t\t\trunning: false,\n            }\n        },\n        methods: {\n            startup() {\n                this.game = new Stacker(this);\n            }\n        },\n        mounted(){\n            // Call Start Up Code\n            this.$nextTick(() => {\n                this.startup();\n            })\n        },\n    }\n</script>","import p5 from \"p5\";\nimport accessHighscores from '@/../public/scripts/access_highscores.js';\n\t/*\n     * Class Name: Stacker\n     * Description: Stacker Game\n    */\nexport default class Stacker {\n\t/*\n     * Name: constructor\n     * Description: Creates an instance of the Stacker game\n     * Return: None\n    */\n\tconstructor(vuePage) {\n\t\tthis.vuePage = vuePage;\n\t\tthis.setup(10, 13, 40);\n\t}\n\n\t/*\n     * Name: reset\n     * Description: Resets the stacker game\n     * Return: None\n    */\n\treset() {\n\t\tthis.placedBlocks = [];\n\t\tthis.posx = 0;\n\t\tthis.posy = this.height - 1;\n\t\tthis.dir = 1;\n\t\tthis.length = 4;\n\t}\n\n\t/*\n     * Name: placeBlock\n     * Description: Places the block that the user is holding and moves the cursor up\n     * Return: None\n    */\n\tplaceBlock() {\n\t\tlet lastBlock = this.getLastBlock();\n\n\t\t// Check for overlap\n\t\tif (this.placedBlocks.length > 0) {\n\t\t\tif (this.posx >= lastBlock.posx + lastBlock.length || this.posx + this.length - 1 < lastBlock.posx) {\n\t\t\t\t// Missed it, game over\n\t\t\t\tthis.running = false;\n\t\t\t\tthis.vuePage.running = false;\n\t\t\t\tthis.reset();\n\t\t\t\tthis.vuePage.score = 0;\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// Valid move\n\t\t\n\t\t// Check if we need to cut off the next block\n\t\tlet newBlock = {\"posx\": this.posx, \"posy\": this.posy, \"length\": this.length};\n\t\tif (this.placedBlocks.length > 0) {\n\t\t\tif (this.posx == lastBlock.posx) {\n\t\t\t\t// Same spot\n\t\t\t\tthis.length = Math.min(this.length, lastBlock.length);\n\t\t\t\tnewBlock.length = this.length;\n\t\t\t} else if (this.posx < lastBlock.posx) {\n\t\t\t\t// Left of last block\n\t\t\t\tlet overhang = lastBlock.posx - this.posx;\n\t\t\t\tthis.length -= overhang;\n\t\t\t\tnewBlock.posx = this.posx + overhang;\n\t\t\t\tnewBlock.length = this.length;\n\t\t\t} else {\n\t\t\t\t// Right of last block\n\t\t\t\tlet overhang = this.posx - lastBlock.posx;\n\t\t\t\tthis.length -= overhang;\n\t\t\t\tnewBlock.posx = this.posx;\n\t\t\t\tnewBlock.length = this.length;\n\t\t\t}\n\t\t}\n\n\t\t// Place the block, move up\n\t\tthis.placedBlocks.push(newBlock);\n\t\tthis.posy--;\n\n\t\tthis.vuePage.score += this.length;\n\n\t\t// Win the game\n\t\tif (this.posy < 0) {\n\t\t\tthis.running = false;\n\t\t\tthis.vuePage.running = false;\n\t\t\taccessHighscores.updateHighscores(this.vuePage.score, prompt(\"Enter a name:\", \"stacker\"));\n\t\t\tthis.reset();\n\t\t}\n\t}\n\n\t/*\n     * Name: getLastBlock\n     * Description: Returns the topmost placed block\n     * Return: A block\n    */\n\tgetLastBlock() {\n\t\treturn this.placedBlocks[this.placedBlocks.length - 1];\n\t}\n\n\t/*\n     * Name: setup\n     * Description: Sets up the Stacker Game\n     * Return: None\n    */\n\tsetup(width, height, cellSize) {\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.cellSize = cellSize;\n\t\tthis.posy = height - 1;\n\t\tthis.posx = 0; // Left-most part of the block\n\t\tthis.length = 4; // How many cells wide the block is\n\t\tthis.dir = 1; // 1: Right, -1: Left\n\t\tthis.placedBlocks = []; // Stores lists in the form [xpos, ypos, length]\n\n\t\tconst sketch = (s) => {\n\t\t\ts.setup = () => {\n\t\t\t\tlet c = s.createCanvas(width * cellSize, height * cellSize);\n\t\t\t\tc.parent(\"stacker-div\");\n\t\t\t\ts.frameRate(10);\n\t\t\t}\n\n\t\t\ts.draw = () => {\n\t\t\t\tif (this.running) {\n\t\t\t\t\tif (this.posx + this.length == width) {\n\t\t\t\t\t\tthis.dir = -1;\n\t\t\t\t\t} else if (this.posx == 0) {\n\t\t\t\t\t\tthis.dir = 1;\n\t\t\t\t\t}\n\t\t\t\t\tthis.posx += this.dir;\n\t\t\t\t}\n\n\t\t\t\t// Border\n\t\t\t\ts.clear();\n\t\t\t\ts.fill(255, 255, 255);\n\t\t\t\ts.stroke(0, 0, 0);\n\t\t\t\ts.rect(0, 0, width * cellSize, height * cellSize);\n\n\t\t\t\t// Player\n\t\t\t\ts.stroke(255, 0, 0);\n\t\t\t\ts.fill(255, 0, 0);\n\t\t\t\ts.rect(this.posx * cellSize, this.posy * cellSize, cellSize * this.length, cellSize);\n\n\t\t\t\t// Blocks\n\t\t\t\tfor (let block of this.placedBlocks) {\n\t\t\t\t\ts.rect(block.posx * cellSize, block.posy * cellSize, cellSize * block.length, cellSize);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ts.keyPressed = (e) => {\n\t\t\t\tif (e.key == \" \") {\n\t\t\t\t\tif (this.running) {\n\t\t\t\t\t\tthis.placeBlock();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.running = true;\n\t\t\t\t\t\tthis.vuePage.running = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\tthis.sketch = new p5(sketch);\n\t}\n}","import { render } from \"./StackerGame.vue?vue&type=template&id=77ab018e\"\nimport script from \"./StackerGame.vue?vue&type=script&lang=js\"\nexport * from \"./StackerGame.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/mnt/d/School/WebDevGroupProject/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./StackerView.vue?vue&type=template&id=2c5f5a39\"\nimport script from \"./StackerView.vue?vue&type=script&lang=js\"\nexport * from \"./StackerView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/mnt/d/School/WebDevGroupProject/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_2","_createVNode","_component_StackerGame","id","$data","_hoisted_1","_toDisplayString","_hoisted_3","Stacker","constructor","vuePage","this","setup","reset","placedBlocks","posx","posy","height","dir","length","placeBlock","lastBlock","getLastBlock","running","score","newBlock","Math","min","overhang","push","accessHighscores","prompt","width","cellSize","sketch","s","c","createCanvas","parent","frameRate","draw","clear","fill","stroke","rect","block","keyPressed","e","key","p5","name","data","game","p5Context","methods","startup","mounted","$nextTick","__exports__","title","components","StackerGame","render"],"sourceRoot":""}